import{S as G,T as R,U as y,V as A,s as H,r as E,f as w,a as M,g as j,h as S,c as z,d as k,j as m,i as N,y as P,u as J,v as U,w as V,W as q}from"./scheduler.d912e86b.js";import{g as W,t as _,c as B,a as p,S as K,i as Q}from"./index.6d10dab7.js";import{H as X}from"./control.c2cf8273.js";import{d as F,w as L}from"./index.d2928733.js";const Y=!0;function se(t,e){const l=e.token={};function r(a,n,s,c){if(e.token!==l)return;e.resolved=c;let d=e.ctx;s!==void 0&&(d=d.slice(),d[s]=c);const i=a&&(e.current=a)(d);let h=!1;e.block&&(e.blocks?e.blocks.forEach((u,o)=>{o!==n&&u&&(W(),_(u,1,1,()=>{e.blocks[o]===u&&(e.blocks[o]=null)}),B())}):e.block.d(1),i.c(),p(i,1),i.m(e.mount(),e.anchor),h=!0),e.block=i,e.blocks&&(e.blocks[n]=i),h&&A()}if(G(t)){const a=R();if(t.then(n=>{y(a),r(e.then,1,e.value,n),y(null)},n=>{if(y(a),r(e.catch,2,e.error,n),y(null),!e.hasCatch)throw n}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function le(t,e,l){const r=e.slice(),{resolved:a}=t;t.current===t.then&&(r[t.value]=a),t.current===t.catch&&(r[t.error]=a),t.block.p(r,l)}const T=Y;function v(t,e){return new X(t,e)}new TextEncoder;const D=L([]),C=L();F(D,t=>t);const ne=F(C,t=>t);class oe{async fetchProject({project:e,fetch:l}){try{const r=await l(e.url,{method:"GET",headers:{"Content-Type":"application/json"}}),a=JSON.parse(await r.text());let n;if(r.status===200)return n={...e,description:a.description,tags:[...e.tags,a.language.toLowerCase()],starsCount:a.stargazers_count,forksCount:a.forks,downloadsCount:await this.getDownloadsCount(e.url)},D.update(s=>{const c=[...s,n];if(T)try{localStorage.setItem("projects",JSON.stringify(c))}finally{}return c});{console.log(a);let s=[];if(T&&localStorage.getItem("projects"))s=JSON.parse(localStorage.getItem("projects")??"[]").map(c=>({...c,imageText:"Server error / API rate limit exceeded"}));else if(r.status===403)s=[{...e,name:"limit",tags:[]}];else throw r;return D.update(()=>s),v(r.status??500,"Failed to fetch data")}}catch(r){console.log(r);let a=[];return localStorage.getItem("projects")?a=JSON.parse(localStorage.getItem("projects")??"[]").map(n=>({...n,imageText:"No internet connection"})):a=[{...e,name:"error",description:"No internet connection",tags:[]}],D.update(()=>a),v(500,"Failed to fetch data")}}async fetchProjectDetail({project:e,fetch:l}){try{const r=await l(e.url,{method:"GET",headers:{"Content-Type":"application/json"}}),a=JSON.parse(await r.text());let n;if(r.status===200)return n={...e,description:a.description,tags:[...e.tags,a.language.toLowerCase()],repositoryUrl:a.svn_url,hasLivePreview:!!a.homepage,livePreviewUrl:a.homepage,starsCount:a.stargazers_count,forksCount:a.forks,downloadsCount:await this.getDownloadsCount(e.url)},C.update(()=>n);{console.log(a);let s;if(T&&localStorage.getItem("projectDetail"))s={...JSON.parse(localStorage.getItem("projectDetail")??"{}"),imageText:"Server error / API rate limit exceeded"};else if(r.status===403)s={...e,name:"limit",description:a.message,tags:[],hasLivePreview:!1,repositoryUrl:""};else throw r;return C.update(()=>s),v(r.status??500,"Failed to fetch data")}}catch(r){console.log(r);let a;return localStorage.getItem("projectDetail")?a={...JSON.parse(localStorage.getItem("projectDetail")??"{}"),imageText:"No internet connection"}:a={...e,name:"error",description:"No internet connection",tags:[],hasLivePreview:!1,repositoryUrl:""},C.update(()=>a),v(500,"Failed to fetch data")}}async getProjectReadme({project:e,fetch:l}){try{return await(await l(e.readmeUrl??"",{method:"GET"})).text()}catch{return null}}async getDownloadsCount(e){const l=await fetch(`${e}/releases`,{method:"GET"});try{const r=await l.text(),a=JSON.parse(r);let n=0;for(let s=0;s<a.length;++s)for(let c=0;c<a[s].assets.length;++c)n+=a[s].assets[c].download_count;return n}catch{return 0}}}const Z=t=>({}),I=t=>({});function O(t){let e,l,r;const a=t[11].icon,n=E(a,t,t[10],I);return{c(){e=w("div"),n&&n.c(),this.h()},l(s){e=j(s,"DIV",{class:!0});var c=S(e);n&&n.l(c),c.forEach(k),this.h()},h(){m(e,"class",l=(t[2]?"":t[8][t[1].key])+" mr-4 flex items-center justify-center")},m(s,c){N(s,e,c),n&&n.m(e,null),r=!0},p(s,c){n&&n.p&&(!r||c&1024)&&J(n,a,s,s[10],r?V(a,s[10],c,Z):U(s[10]),I),(!r||c&6&&l!==(l=(s[2]?"":s[8][s[1].key])+" mr-4 flex items-center justify-center"))&&m(e,"class",l)},i(s){r||(p(n,s),r=!0)},o(s){_(n,s),r=!1},d(s){s&&k(e),n&&n.d(s)}}}function x(t){let e,l,r,a,n,s,c,d,i=t[9].icon&&O(t);const h=t[11].default,u=E(h,t,t[10],null);return{c(){e=w("button"),l=w("div"),i&&i.c(),r=M(),a=w("h4"),u&&u.c(),this.h()},l(o){e=j(o,"BUTTON",{class:!0});var g=S(e);l=j(g,"DIV",{class:!0});var b=S(l);i&&i.l(b),r=z(b),a=j(b,"H4",{class:!0});var f=S(a);u&&u.l(f),f.forEach(k),b.forEach(k),g.forEach(k),this.h()},h(){m(a,"class",n=(t[2]?"":t[8][t[1].key])+" duration-200"),m(l,"class",s=t[7][t[1].key]+" "+(t[2]?"":"dark:bg-slate-900")+" "+(t[2]?"":t[6][t[1].key])+" "+(t[4]?" justify-center":"")+" "+(t[0]?"":"active:translate-x-0 active:translate-y-0")+" flex items-center border-slate-900 border-2 duration-200 px-4 py-2 -translate-x-1 -translate-y-1 hover:-translate-x-1.5 hover:-translate-y-1.5 w-full"),m(e,"class",c=(t[2]?"":t[5][t[1].key])+" "+(t[3]?"w-full":"")+" bg-slate-900 duration-200")},m(o,g){N(o,e,g),P(e,l),i&&i.m(l,null),P(l,r),P(l,a),u&&u.m(a,null),d=!0},p(o,[g]){o[9].icon?i?(i.p(o,g),g&512&&p(i,1)):(i=O(o),i.c(),p(i,1),i.m(l,r)):i&&(W(),_(i,1,1,()=>{i=null}),B()),u&&u.p&&(!d||g&1024)&&J(u,h,o,o[10],d?V(h,o[10],g,null):U(o[10]),null),(!d||g&6&&n!==(n=(o[2]?"":o[8][o[1].key])+" duration-200"))&&m(a,"class",n),(!d||g&23&&s!==(s=o[7][o[1].key]+" "+(o[2]?"":"dark:bg-slate-900")+" "+(o[2]?"":o[6][o[1].key])+" "+(o[4]?" justify-center":"")+" "+(o[0]?"":"active:translate-x-0 active:translate-y-0")+" flex items-center border-slate-900 border-2 duration-200 px-4 py-2 -translate-x-1 -translate-y-1 hover:-translate-x-1.5 hover:-translate-y-1.5 w-full"))&&m(l,"class",s),(!d||g&14&&c!==(c=(o[2]?"":o[5][o[1].key])+" "+(o[3]?"w-full":"")+" bg-slate-900 duration-200"))&&m(e,"class",c)},i(o){d||(p(i),p(u,o),d=!0)},o(o){_(i),_(u,o),d=!1},d(o){o&&k(e),i&&i.d(),u&&u.d(o)}}}function $(t,e,l){let{$$slots:r={},$$scope:a}=e;const n=q(r);let{disabled:s=!1}=e,{variant:c={key:s?"disabled":"primary"}}=e,{noDarkVariant:d=!0}=e,{fullWidth:i=!1}=e,{centerText:h=!0}=e;const u={primary:"dark:bg-primary",secondary:"dark:bg-white",disabled:"dark:bg-neutral-400",whatsapp:"dark:bg-green-400",email:"dark:bg-red-400",github:"dark:bg-slate-200",hackerrank:"dark:bg-teal-400",instagram:"dark:bg-fuchsia-400",facebook:"dark:bg-sky-400",linkedIn:"dark:bg-blue-400",medium:"dark:bg-neutral-400",telegram:"dark:bg-cyan-400"},o={primary:"dark:border-primary",secondary:"dark:border-white",disabled:"dark:border-neutral-400",whatsapp:"dark:border-green-400",email:"dark:border-red-400",github:"dark:border-slate-200",hackerrank:"dark:border-teal-400",instagram:"dark:border-fuchsia-400",facebook:"dark:border-sky-400",linkedIn:"dark:border-blue-400",medium:"dark:border-neutral-400",telegram:"dark:border-cyan-400"},g={primary:"bg-primary",secondary:"bg-white",disabled:"bg-neutral-400",whatsapp:"bg-green-400",email:"bg-red-400",github:"bg-slate-200",hackerrank:"bg-teal-400",instagram:"bg-fuchsia-400",facebook:"bg-sky-400",linkedIn:"bg-blue-400",medium:"bg-neutral-400",telegram:"bg-cyan-400"},b={primary:"dark:text-primary",secondary:"dark:text-white",disabled:"dark:text-neutral-400",whatsapp:"dark:text-green-400",email:"dark:text-red-400",github:"dark:text-slate-200",hackerrank:"dark:text-teal-400",instagram:"dark:text-fuchsia-400",facebook:"dark:text-sky-400",linkedIn:"dark:text-blue-400",medium:"dark:text-neutral-400",telegram:"dark:text-cyan-400"};return t.$$set=f=>{"disabled"in f&&l(0,s=f.disabled),"variant"in f&&l(1,c=f.variant),"noDarkVariant"in f&&l(2,d=f.noDarkVariant),"fullWidth"in f&&l(3,i=f.fullWidth),"centerText"in f&&l(4,h=f.centerText),"$$scope"in f&&l(10,a=f.$$scope)},[s,c,d,i,h,u,o,g,b,n,a,r]}class ie extends K{constructor(e){super(),Q(this,e,$,x,H,{disabled:0,variant:1,noDarkVariant:2,fullWidth:3,centerText:4})}}function ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ue(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var l=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};l.prototype=e.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(l,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),l}export{ie as B,oe as P,ce as a,v as e,ue as g,se as h,ne as p,le as u};
