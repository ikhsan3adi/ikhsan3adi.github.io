var W=Object.defineProperty;var L=s=>{throw TypeError(s)};var X=(s,e,r)=>e in s?W(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var N=(s,e,r)=>X(s,typeof e!="symbol"?e+"":e,r),Y=(s,e,r)=>e.has(s)||L("Cannot "+r);var t=(s,e,r)=>(Y(s,e,"read from private field"),r?r.call(s):e.get(s)),v=(s,e,r)=>e.has(s)?L("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),y=(s,e,r,a)=>(Y(s,e,"write to private field"),a?a.call(s,r):e.set(s,r),r);import{A as F,B as j,C as O,D as k,F as C,G as U,h as w,H as ee,I as se,J as re,b as te,a as ae,E as ie,K as ne,M as fe,O as ce,P as ue,Q as q,R as de,S as he,k as H,T as le,U as Z,V as oe,W as _e,X as z,n as m,Y as ve,Z as pe,x as be,_ as D,$ as Se,q as Pe,a0 as Ae,a1 as Ee,a2 as Re,a3 as Te,a4 as me,a5 as xe,a6 as K,a7 as $,a8 as Ie,a9 as Oe}from"./CJ1PUUUf.js";import{c as we}from"./B02CnKvS.js";var l,o,h,p,E,R,x;class De{constructor(e,r=!0){N(this,"anchor");v(this,l,new Map);v(this,o,new Map);v(this,h,new Map);v(this,p,new Set);v(this,E,!0);v(this,R,()=>{var e=F;if(t(this,l).has(e)){var r=t(this,l).get(e),a=t(this,o).get(r);if(a)j(a),t(this,p).delete(r);else{var n=t(this,h).get(r);n&&(t(this,o).set(r,n.effect),t(this,h).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,c]of t(this,l)){if(t(this,l).delete(i),i===e)break;const f=t(this,h).get(c);f&&(O(f.effect),t(this,h).delete(c))}for(const[i,c]of t(this,o)){if(i===r||t(this,p).has(i))continue;const f=()=>{if(Array.from(t(this,l).values()).includes(i)){var _=document.createDocumentFragment();se(c,_),_.append(C()),t(this,h).set(i,{effect:c,fragment:_})}else O(c);t(this,p).delete(i),t(this,o).delete(i)};t(this,E)||!a?(t(this,p).add(i),k(c,f,!1)):f()}}});v(this,x,e=>{t(this,l).delete(e);const r=Array.from(t(this,l).values());for(const[a,n]of t(this,h))r.includes(a)||(O(n.effect),t(this,h).delete(a))});this.anchor=e,y(this,E,r)}ensure(e,r){var a=F,n=re();if(r&&!t(this,o).has(e)&&!t(this,h).has(e))if(n){var i=document.createDocumentFragment(),c=C();i.append(c),t(this,h).set(e,{effect:U(()=>r(c)),fragment:i})}else t(this,o).set(e,U(()=>r(this.anchor)));if(t(this,l).set(a,e),n){for(const[f,u]of t(this,o))f===e?a.skipped_effects.delete(u):a.skipped_effects.add(u);for(const[f,u]of t(this,h))f===e?a.skipped_effects.delete(u.effect):a.skipped_effects.add(u.effect);a.oncommit(t(this,R)),a.ondiscard(t(this,x))}else w&&(this.anchor=ee),t(this,R).call(this)}}l=new WeakMap,o=new WeakMap,h=new WeakMap,p=new WeakMap,E=new WeakMap,R=new WeakMap,x=new WeakMap;function Ye(s,e,r=!1){w&&ae();var a=new De(s),n=r?ie:0;function i(c,f){if(w){const _=ne(s)===fe;if(c===_){var u=ce();ue(u),a.anchor=u,q(!1),a.ensure(c,f),q(!0);return}}a.ensure(c,f)}te(()=>{var c=!1;e((f,u=!0)=>{c=!0,i(u,f)}),c||i(!1,null)},n)}function G(s,e){return s===e||(s==null?void 0:s[Z])===e}function ye(s={},e,r,a){return de(()=>{var n,i;return he(()=>{n=i,i=[],H(()=>{s!==r(...i)&&(e(s,...i),n&&G(r(...n),s)&&e(null,...n))})}),()=>{le(()=>{i&&G(r(...i),s)&&e(null,...i)})}}),s}const ge={get(s,e){if(!s.exclude.includes(e))return m(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var a=D;try{$(s.parent_effect),s.special[e]=Me({get[e](){return s.props[e]}},e,z)}finally{$(a)}}return s.special[e](r),K(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),K(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Fe(s,e){return new Proxy({props:s,exclude:e,special:{},version:me(0),parent_effect:D},ge)}function Me(s,e,r,a){var M;var n=!Ae||(r&Ee)!==0,i=(r&Te)!==0,c=(r&xe)!==0,f=a,u=!0,_=()=>(u&&(u=!1,f=c?H(a):a),f),S;if(i){var J=Z in s||Oe in s;S=((M=oe(s,e))==null?void 0:M.set)??(J&&e in s?d=>s[e]=d:void 0)}var P,g=!1;i?[P,g]=we(()=>s[e]):P=s[e],P===void 0&&a!==void 0&&(P=_(),S&&(n&&_e(),S(P)));var b;if(n?b=()=>{var d=s[e];return d===void 0?_():(u=!0,d)}:b=()=>{var d=s[e];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&!(r&z))return b;if(S){var Q=s.$$legacy;return function(d,T){return arguments.length>0?((!n||!T||Q||g)&&S(T?b():d),d):b()}}var I=!1,A=(r&Re?Pe:ve)(()=>(I=!1,b()));i&&m(A);var V=D;return function(d,T){if(arguments.length>0){const B=T?m(A):n&&i?pe(d):d;return be(A,B),I=!0,f!==void 0&&(f=B),d}return Ie&&I||V.f&Se?A.v:m(A)}}export{De as B,ye as b,Ye as i,Fe as l,Me as p};
